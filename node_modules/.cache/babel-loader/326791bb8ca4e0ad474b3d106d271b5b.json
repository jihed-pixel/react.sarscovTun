{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useRef, useState } from 'react';\nimport { Button, strinfigyClassObject, getBase64 } from '../index';\nimport { Account } from '../icon/icons';\n\nvar AvatarUploader = function AvatarUploader(props) {\n  var inputFile = useRef();\n\n  var _useState = useState(props.avatar),\n      _useState2 = _slicedToArray(_useState, 2),\n      avatar = _useState2[0],\n      setAvatar = _useState2[1];\n\n  var _useState3 = useState(Date.now()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      inputKey = _useState4[0],\n      setInputKey = _useState4[1];\n\n  var className = {\n    name: 'rui-avatar-uploader',\n    lifted: props.lifted ? 'lifted' : '',\n    dark: props.dark ? 'dark' : '',\n    borderType: props.borderType ? props.borderType : '',\n    className: props.className ? props.className : ''\n  };\n\n  var handlePreview = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var file, b;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = e.target.files ? e.target.files[0] : null;\n              _context.next = 3;\n              return getBase64(file);\n\n            case 3:\n              b = _context.sent;\n              setAvatar(b);\n              props.onChange(b);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handlePreview(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = function handleDelete(e) {\n    e.preventDefault();\n    props.onClear();\n    setAvatar('');\n    setInputKey(Date.now());\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: strinfigyClassObject(className),\n    ref: props.avatarRef,\n    style: {\n      width: props.width ? props.width : 100,\n      minWidth: props.width ? props.width : 100,\n      height: props.height ? props.height : 120,\n      backgroundImage: \"url(\".concat(avatar, \")\")\n    }\n  }, !avatar ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", null, props.label ? props.label : props.label === null ? '' : 'upload avatar'), props.placeholderImage ? props.placeholderImage : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"rui-avatar-uploader-placeholder\"\n  }, /*#__PURE__*/React.createElement(Account, null))) : /*#__PURE__*/React.createElement(Button, {\n    light: true,\n    icon: \"close\",\n    className: \"ma-0\",\n    onClick: handleDelete\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: inputFile,\n    key: inputKey,\n    accept: \"image/*\",\n    title: props.title ? props.title : 'Choose file',\n    onChange: handlePreview,\n    type: \"file\"\n  }));\n};\n\nexport default AvatarUploader;","map":{"version":3,"sources":["/home/yobi/Desktop/testFinal/node_modules/@assenti/rui-components/lib/avatarUploader/index.js"],"names":["_regeneratorRuntime","_asyncToGenerator","_slicedToArray","React","useRef","useState","Button","strinfigyClassObject","getBase64","Account","AvatarUploader","props","inputFile","_useState","avatar","_useState2","setAvatar","_useState3","Date","now","_useState4","inputKey","setInputKey","className","name","lifted","dark","borderType","handlePreview","_ref","mark","_callee","e","file","b","wrap","_callee$","_context","prev","next","target","files","sent","onChange","stop","_x","apply","arguments","handleDelete","preventDefault","onClear","createElement","ref","avatarRef","style","width","minWidth","height","backgroundImage","concat","Fragment","label","placeholderImage","light","icon","onClick","key","accept","title","type"],"mappings":"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","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useRef, useState } from 'react';\nimport { Button, strinfigyClassObject, getBase64 } from '../index';\nimport { Account } from '../icon/icons';\n\nvar AvatarUploader = function AvatarUploader(props) {\n  var inputFile = useRef();\n\n  var _useState = useState(props.avatar),\n      _useState2 = _slicedToArray(_useState, 2),\n      avatar = _useState2[0],\n      setAvatar = _useState2[1];\n\n  var _useState3 = useState(Date.now()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      inputKey = _useState4[0],\n      setInputKey = _useState4[1];\n\n  var className = {\n    name: 'rui-avatar-uploader',\n    lifted: props.lifted ? 'lifted' : '',\n    dark: props.dark ? 'dark' : '',\n    borderType: props.borderType ? props.borderType : '',\n    className: props.className ? props.className : ''\n  };\n\n  var handlePreview = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var file, b;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = e.target.files ? e.target.files[0] : null;\n              _context.next = 3;\n              return getBase64(file);\n\n            case 3:\n              b = _context.sent;\n              setAvatar(b);\n              props.onChange(b);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handlePreview(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = function handleDelete(e) {\n    e.preventDefault();\n    props.onClear();\n    setAvatar('');\n    setInputKey(Date.now());\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: strinfigyClassObject(className),\n    ref: props.avatarRef,\n    style: {\n      width: props.width ? props.width : 100,\n      minWidth: props.width ? props.width : 100,\n      height: props.height ? props.height : 120,\n      backgroundImage: \"url(\".concat(avatar, \")\")\n    }\n  }, !avatar ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", null, props.label ? props.label : props.label === null ? '' : 'upload avatar'), props.placeholderImage ? props.placeholderImage : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"rui-avatar-uploader-placeholder\"\n  }, /*#__PURE__*/React.createElement(Account, null))) : /*#__PURE__*/React.createElement(Button, {\n    light: true,\n    icon: \"close\",\n    className: \"ma-0\",\n    onClick: handleDelete\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: inputFile,\n    key: inputKey,\n    accept: \"image/*\",\n    title: props.title ? props.title : 'Choose file',\n    onChange: handlePreview,\n    type: \"file\"\n  }));\n};\n\nexport default AvatarUploader;"]},"metadata":{},"sourceType":"module"}